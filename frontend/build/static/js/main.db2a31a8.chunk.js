(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{124:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c(18),a=c.n(r),s=c(22),i=c(41),o=c(80),j=c(79),d=c(2),l="PRODUCT_LIST_REQUEST",u="PRODUCT_LIST_SUCCESS",b="PRODUCT_LIST_FAIL",O="PRODUCT_DETAILS_REQUEST",h="PRODUCT_DETAILS_SUCCESS",p="PRODUCT_DETAILS_FAIL",x=c(24),m="CART_ADD_ITEM",f="CART_REMOVE_ITEM",g=Object(i.combineReducers)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return{loading:!0,products:[]};case u:return{loading:!1,products:t.payload};case b:return{loading:!1,error:t.payload};default:return e}},productReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(d.a)({loading:!0},e);case h:return{loading:!1,product:t.payload};case p:return{loading:!1,error:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:var c=t.payload,n=e.cartItems.find((function(e){return e.product===c.product}));return n?Object(d.a)(Object(d.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===n.product?c:e}))}):Object(d.a)(Object(d.a)({},e),{},{cartItems:[].concat(Object(x.a)(e.cartItems),[c])});case f:return Object(d.a)(Object(d.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});default:return e}}}),v={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[]}},y=[o.a],I=Object(i.createStore)(g,v,Object(j.composeWithDevTools)(i.applyMiddleware.apply(void 0,y))),k=(c(93),c(94),c(21)),S=c(6),C=c(126),T=c(60),L=c(132),w=c(134),_=c(1),D=function(){return Object(_.jsx)("header",{children:Object(_.jsx)(L.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(_.jsxs)(C.a,{children:[Object(_.jsx)(T.LinkContainer,{to:"/",children:Object(_.jsx)(L.a.Brand,{children:"Dev-Drip"})}),Object(_.jsx)(L.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(_.jsx)(L.a.Collapse,{id:"basic-navbar-nav",children:Object(_.jsxs)(w.a,{className:"ml-auto",children:[Object(_.jsx)(T.LinkContainer,{to:"/cart",children:Object(_.jsxs)(w.a.Link,{children:[Object(_.jsx)("i",{className:"fas fa-shopping-cart"})," Cart"]})}),Object(_.jsx)(T.LinkContainer,{to:"/login",children:Object(_.jsxs)(w.a.Link,{children:[Object(_.jsx)("i",{className:"fas fa-user"})," Sign In"]})})]})})]})})})},E=c(127),N=c(82),R=function(){return Object(_.jsx)("footer",{children:Object(_.jsx)(C.a,{children:Object(_.jsx)(E.a,{children:Object(_.jsx)(N.a,{className:"text-center py-3",children:"Copyright \xa9 Dev-Drip"})})})})},A=c(135),P=function(e){var t=e.product;return Object(_.jsxs)(A.a,{className:"my-3 p-3 rounded",children:[Object(_.jsx)(k.Link,{to:"/product/".concat(t._id),children:Object(_.jsx)(A.a.Img,{src:t.image,variant:"top"})}),Object(_.jsxs)(A.a.Body,{children:[Object(_.jsx)(k.Link,{to:"/product/".concat(t._id),children:Object(_.jsx)(A.a.Title,{as:"div",children:Object(_.jsx)("strong",{children:t.name})})}),Object(_.jsxs)(A.a.Text,{as:"h3",children:["$",t.price]})]})]})},U=c(128),B=function(e,t){return Object(_.jsx)(U.a,{variant:e,children:"[children]"})};B.defaultProps={variant:"info"};var $=B,q=c(129),F=function(){return Object(_.jsx)(q.a,{animation:"border",role:"status",style:{width:"100px",height:"100px",margin:"auto",display:"block"},children:Object(_.jsx)("span",{className:"sr-only",children:"Loading"})})},J=c(30),M=c(43),Q=c(44),W=c.n(Q),G=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.productList})),c=t.loading,r=t.error,a=t.products;return Object(n.useEffect)((function(){e(function(){var e=Object(M.a)(Object(J.a)().mark((function e(t){var c,n;return Object(J.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:l}),e.next=4,W.a.get("/api/products");case 4:c=e.sent,n=c.data,t({type:u,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:b,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("h1",{children:"Latest Products"}),c?Object(_.jsx)(F,{}):r?Object(_.jsx)($,{variant:"danger",children:r}):Object(_.jsx)(E.a,{children:a.map((function(e){return Object(_.jsx)(N.a,{sm:12,md:6,lg:4,xl:3,children:Object(_.jsx)(P,{product:e})})}))})]})},H=c(7),V=c(130),Y=c(136),z=c(133),K=c(131),X=function(e){var t=e.history,c=e.match,r=Object(n.useState)(1),a=Object(H.a)(r,2),i=a[0],o=a[1],j=Object(s.b)(),d=Object(s.c)((function(e){return e.productDetails})),l=d.loading,u=d.error,b=d.product;Object(n.useEffect)((function(){var e;j((e=c.params.id,function(){var t=Object(M.a)(Object(J.a)().mark((function t(c){var n,r;return Object(J.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:O}),t.next=4,W.a.get("/api/products/".concat(e));case 4:n=t.sent,r=n.data,c({type:h,payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:p,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()))}),[j,c]);return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(k.Link,{className:"btn btn-dark my-3",to:"/",children:"Go Back to Home"}),l?Object(_.jsx)(F,{}):u?Object(_.jsx)($,{variant:"danger",children:u}):Object(_.jsxs)(E.a,{children:[Object(_.jsx)(N.a,{md:6,children:Object(_.jsx)(V.a,{src:b.image,alt:b.name,fluid:!0})}),Object(_.jsx)(N.a,{md:3,children:Object(_.jsxs)(Y.a,{variant:"flush",children:[Object(_.jsx)(Y.a.Item,{children:Object(_.jsx)("h3",{children:b.name})}),Object(_.jsxs)(Y.a.Item,{children:["Price:$",b.price]}),Object(_.jsxs)(Y.a.Item,{children:["Description:",b.description]})]})}),Object(_.jsx)(N.a,{md:3,children:Object(_.jsx)(A.a,{children:Object(_.jsxs)(Y.a,{variant:"flush",children:[Object(_.jsx)(Y.a.Item,{children:Object(_.jsxs)(E.a,{children:[Object(_.jsx)(N.a,{children:"Price"}),Object(_.jsxs)(N.a,{children:["$",b.price]})]})}),Object(_.jsx)(Y.a.Item,{children:Object(_.jsxs)(E.a,{children:[Object(_.jsx)(N.a,{children:"Stock:"}),Object(_.jsx)(N.a,{children:b.countInStock>0?"In Stock":"Out of Stock"})]})}),b.countInStock>0&&Object(_.jsx)(Y.a.Item,{children:Object(_.jsxs)(E.a,{children:[Object(_.jsx)(N.a,{children:"Qty"}),Object(_.jsx)(N.a,{children:Object(_.jsx)(z.a.Control,{as:"select",value:i,onChange:function(e){return o(e.target.value)},children:Object(x.a)(Array(b.countInStock).keys()).map((function(e){return Object(_.jsx)("option",{value:e+1,children:e+1},e+1)}))})})]})}),Object(_.jsx)(Y.a.Item,{children:Object(_.jsx)(K.a,{onClick:function(){t.push("/cart/".concat(c.params.id,"?qty=").concat(i))},className:"btn-block",type:"button",disabled:0===b.countInStock,children:"Add To Cart"})})]})})})]})]})},Z=function(e,t){return function(){var c=Object(M.a)(Object(J.a)().mark((function c(n,r){var a,s;return Object(J.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,W.a.get("/api/products/".concat(e));case 2:a=c.sent,s=a.data,n({type:m,payload:{product:s._id,name:s.name,image:s.image,price:s.price,countInStock:s.countInStock,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems));case 6:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}()},ee=function(e){var t=e.match,c=e.location,r=e.history,a=t.params.id,i=c.search?Number(c.search.split("=")[1]):1,o=Object(s.b)(),j=Object(s.c)((function(e){return e.cart})).cartItems;Object(n.useEffect)((function(){a&&o(Z(a,i))}),[o,a,i]);var d=function(e){o(function(e){return function(t,c){t({type:f,payload:e}),localStorage.setItem("cartItems",JSON.stringify(c().cart.cartItems))}}(e))};return Object(_.jsxs)(E.a,{children:[Object(_.jsxs)(N.a,{md:8,children:[Object(_.jsx)("h1",{children:"Cart"}),0===j.length?Object(_.jsxs)($,{children:["Your cart is currently empty.",Object(_.jsx)(k.Link,{to:"/",children:"Go Back"})]}):Object(_.jsx)(Y.a,{variant:"flush",children:j.map((function(e){return Object(_.jsx)(Y.a.Item,{children:Object(_.jsxs)(E.a,{children:[Object(_.jsx)(N.a,{md:2,children:Object(_.jsx)(V.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(_.jsx)(N.a,{md:3,children:Object(_.jsx)(k.Link,{to:"/product/".concat(e.product),children:e.name})}),Object(_.jsxs)(N.a,{md:2,children:[" $",e.price]}),Object(_.jsx)(N.a,{md:2,children:Object(_.jsx)(z.a.Control,{as:"select",value:e.qty,onChange:function(t){return o(Z(e.product,Number(t.target.value)))},children:Object(x.a)(Array(e.countInStock).keys()).map((function(e){return Object(_.jsx)("option",{value:e+1,children:e+1},e+1)}))})}),Object(_.jsx)(N.a,{md:2,children:Object(_.jsx)(K.a,{type:"button",variant:"light",onClick:function(){return d(e.product)},children:Object(_.jsx)("i",{className:"fas fa-trash"})})})]})},e.product)}))})]}),Object(_.jsx)(N.a,{md:4,children:Object(_.jsx)(A.a,{children:Object(_.jsxs)(Y.a,{variant:"flush",children:[Object(_.jsxs)(Y.a.Item,{children:[Object(_.jsxs)("h2",{children:["Subtotal (",j.reduce((function(e,t){return e+t.qty}),0),") items"," "]}),"$",j.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2)]}),Object(_.jsx)(K.a,{type:"button",className:"btn-block",disabled:0===j.length,onClick:function(){r.push("/login?redirect=shipping")}})]})})})]})};var te=function(){return Object(_.jsxs)(k.BrowserRouter,{children:[Object(_.jsx)(D,{}),Object(_.jsx)("main",{className:"py-3",children:Object(_.jsx)(C.a,{children:Object(_.jsxs)(S.f,{children:[Object(_.jsx)(S.d,{path:"/",element:Object(_.jsx)(G,{})}),Object(_.jsx)(S.d,{path:"/product/:id",element:Object(_.jsx)(X,{})}),Object(_.jsx)(S.d,{path:"/cart/:id?",element:Object(_.jsx)(ee,{})})]})})}),Object(_.jsx)(R,{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(Object(_.jsx)(s.a,{store:I,children:Object(_.jsx)(te,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},93:function(e,t,c){},94:function(e,t,c){}},[[124,1,2]]]);
//# sourceMappingURL=main.db2a31a8.chunk.js.map